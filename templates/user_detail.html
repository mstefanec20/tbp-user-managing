{% extends "base.html" %}
{% block content %}
{% if user %}
<h2>Uređivanje korisnika: {{ user[1] }}</h2>
<form method="post">
  <div class="form-group">
    <label>ID:</label>
    <input type="text" class="form-control" value="{{ user[0] }}" disabled/>
  </div>
  <div class="form-group">
    <label>Korisničko ime:</label>
    <input type="text" class="form-control" value="{{ user[1] }}" disabled/>
  </div>
  <div class="form-group">
    <label>Ime:</label>
    <input type="text" name="first_name" class="form-control" value="{{ user[2] }}"/>
  </div>
  <div class="form-group">
    <label>Prezime:</label>
    <input type="text" name="last_name" class="form-control" value="{{ user[3] }}"/>
  </div>
  <div class="form-group">
    <label>Status:</label>
    <select name="status" class="form-control">
      <option value="ACTIVE" {% if user[4] == 'ACTIVE' %}selected{% endif %}>ACTIVE</option>
      <option value="INACTIVE" {% if user[4] == 'INACTIVE' %}selected{% endif %}>INACTIVE</option>
      <option value="BANNED" {% if user[4] == 'BANNED' %}selected{% endif %}>BANNED</option>
    </select>
  </div>
  <div class="form-group">
    <label>Metadata (JSON):</label>
    <input type="text" name="metadata" class="form-control" value='{{ user[5] | tojson }}'/>
  </div>

  <hr>
  <h5>Uloge:</h5>
  {% for role in available_roles %}
  <div class="form-check">
    <input type="checkbox" class="form-check-input" name="roles" value="{{ role }}"
           id="chk_{{ loop.index }}"
           {% if role in current_roles %}checked{% endif %}>
    <label class="form-check-label" for="chk_{{ loop.index }}">{{ role }}</label>
  </div>
  {% endfor %}

  <br/>
  <button type="submit" class="btn btn-primary">Spremi promjene</button>
</form>
{% else %}
<p>Korisnik ne postoji ili je obrisan.</p>
{% endif %}
{% endblock %}
